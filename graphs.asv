close all;
clear;
clc;


pulse_period = 1e-3;
dur = 2*pulse_period;

t = linspace(0, 2*pulse_period, 10e3);

ramp = (1/pulse_period) * mod(t+pulse_period/2, pulse_period); 


duty = 0.1;

pulse = 1 - (ramp > duty); 

A = 1.5;
f_sin = 40e3;
wave = A*sin(2*pi*f_sin*t);

signal = wave .* pulse;

siglp = lowpass(signal, 10e3,  );
plot(t, siglp);


% 
% hold on;
% plot(t, signal);
% ylim([-2 2]);
% set(gcf,'position',[0,0,500,250])